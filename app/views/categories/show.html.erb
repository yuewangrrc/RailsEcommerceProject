<% content_for :title, "#{@category.name} - Swimi" %>

<div class="container py-4">
  <!-- Breadcrumb -->
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><%= link_to "Home", root_path %></li>
      <li class="breadcrumb-item"><%= link_to "Categories", categories_path %></li>
      <li class="breadcrumb-item active" aria-current="page"><%= @category.name %></li>
    </ol>
  </nav>

  <div class="row mb-4">
    <div class="col-md-8">
      <h1><%= @category.name %></h1>
      <p class="text-muted">Showing <%= @products.total_count %> products in this category</p>
    </div>
    <div class="col-md-4 text-md-end">
      <%= link_to "All Categories", categories_path, class: "btn btn-outline-secondary" %>
      <%= link_to "All Products", products_path, class: "btn btn-outline-primary" %>
    </div>
  </div>

  <!-- Products Grid -->
  <div class="row">
    <% if @products.any? %>
      <% @products.each do |product| %>
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <%= render 'shared/product_card', product: product %>
        </div>
      <% end %>
    <% else %>
      <div class="col-12">
        <div class="text-center py-5">
          <h3>No products in this category yet</h3>
          <p class="text-muted">Check back soon for new arrivals!</p>
          <%= link_to "Browse Other Categories", categories_path, class: "btn btn-primary" %>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Pagination -->
  <% if @products.respond_to?(:current_page) %>
    <div class="d-flex justify-content-center mt-4">
      <%= paginate @products %>
    </div>
  <% end %>
</div>
